{% load i18n sekizai_tags %}

{% with doc_url=instance.get_link %}
  {% if doc_url %}
    <a
      class="document-item document-item--link"
      data-document-item
      data-document-title="{{ instance.name|lower }}"
      data-document-clickable="true"
      href="{{ doc_url }}"
      {% if instance.file_id %}download{% else %}target="_blank" rel="noopener"{% endif %}
    >
      <span class="document-item__title">{{ instance.name }}</span>
      {% if instance.description %}
        <p class="document-item__description">
          {{ instance.description|linebreaksbr }}
        </p>
      {% endif %}
    </a>
  {% else %}
    <div
      class="document-item document-item--disabled"
      data-document-item
      data-document-title="{{ instance.name|lower }}"
      data-document-clickable="false"
    >
      <span class="document-item__title">{{ instance.name }}</span>
      {% if instance.description %}
        <p class="document-item__description">
          {{ instance.description|linebreaksbr }}
        </p>
      {% endif %}
    </div>
  {% endif %}
{% endwith %}

{% addtoblock "css" %}
<style>
  .document-item {
    display: block;
    padding: 0.75rem 1rem;
    border-radius: 0.75rem;
    background: #fff;
    border: 1px solid rgba(33, 37, 41, 0.08);
    box-shadow: 0 0.75rem 1.5rem rgba(15, 23, 42, 0.06);
    transition: box-shadow 0.2s ease, border-color 0.2s ease;
    position: relative;
    text-decoration: none;
    cursor: pointer;
  }
  .document-item:hover,
  .document-item:focus-within {
    box-shadow: 0 1.2rem 2.2rem rgba(15, 23, 42, 0.12);
    border-color: rgba(13, 110, 253, 0.2);
  }
  .document-item__title {
    font-weight: 600;
    text-decoration: none;
    color: var(--bs-primary, #0d6efd);
  }
  .document-item--disabled {
    cursor: not-allowed;
    color: rgba(33, 37, 41, 0.45);
  }
  .document-item--disabled .document-item__title {
    color: rgba(33, 37, 41, 0.45);
  }
  .document-item--link:focus-visible {
    outline: 2px solid rgba(13, 110, 253, 0.4);
    outline-offset: 2px;
  }
  .document-item__description {
    margin: 0.5rem 0 0;
    color: rgba(33, 37, 41, 0.65);
    font-size: 0.95rem;
  }
</style>
{% endaddtoblock %}
